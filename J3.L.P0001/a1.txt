NewsDAO nd = new NewsDAO();
        HttpSession session = request.getSession();
        String s = request.getParameter("searchTxt");
        String shortContent;
        if (s.isEmpty() || s == null) {

            //if user dont input anything to input tag
            if (request.getParameter("searching") != null) {
                //after searching if user press btn "Go" again, still display
                //current page
                if (session.getAttribute("searching2") != null) {
                    loadBack(request);
                    request.getRequestDispatcher("searchPage.jsp").forward(request, response);
                    return;
                } else {
                    /*
                        if not in page searching and user in display news page
                        and press btn 'Go' without input anything, still display 
                        current news
                     */

 /*
                        get current news id saved on session and get that news
                        attribute
                     */
                    int id = (int) session.getAttribute("idNewsViewing");
                    NewEntity newEntity = nd.getNews(id);

                    //save value bac
//                        session.setAttribute("idNewsViewing", id);
                    //push value to request
                    request.setAttribute("newE", newEntity);

                    //get top 5 last news
                    Vector<NewEntity> listNews = nd.getTopFiveNews(newEntity.getId());
                    request.setAttribute("listNews", listNews);

                    //get lastest new to get short desciption
                    NewEntity lastNews = nd.getLastNews();
                    shortContent = lastNews.getContent().substring(0, 244) + "...";
                    request.setAttribute("shortContent", shortContent);

                    //go to displayNew.jsp
                    request.getRequestDispatcher("displayNew.jsp").forward(request, response);
                    return;
                }
            }
        }
        //total page user searched
        int totalPages;

        //value user input from input tag
        String searchValue;

        //Search based on user input  
        if (request.getParameter("searchTxt") != null) {
            //load total page 
            searchValue = request.getParameter("searchTxt");

            //count the number of articles found
            totalPages = nd.countRecordBySearch(searchValue);

            //set value to attribute session
            session.setAttribute("total", totalPages);
            session.setAttribute("searchValue", searchValue);
        } else {
            /*
            this case is move to next page after searching
             */
            totalPages = (int) session.getAttribute("total");

            //get searchValue saved on session to move next page
            searchValue = (String) session.getAttribute("searchValue");
        }

        //count the number of pages and push to request
        totalPages = (int) Math.ceil((float) totalPages / 3);
        request.setAttribute("totalPage", totalPages);

        //load lastest top 5 new
        Vector<NewEntity> listTitleNews = nd.getTopFiveNews(-1);
        request.setAttribute("listTitleNews", listTitleNews);

        Vector<NewEntity> listNews;
        //load page and all news when user click to page number
        if (request.getParameter("number") != null) {
            int numberOfPage = Integer.parseInt(request.getParameter("number") + "");
            listNews = nd.getNewsBySearch(numberOfPage, searchValue);
            session.setAttribute("number2", numberOfPage);
            request.setAttribute("listNews", listNews);
        } else {
            //first page upload after entering search
            session.setAttribute("number2", 1);
            listNews = nd.getNewsBySearch(1, searchValue);
            request.setAttribute("listNews", listNews);
        }
        //this session attribute for keep page(not change)
        session.setAttribute("searching2", 1);
        if (listNews.isEmpty()) {
            request.setAttribute("messageEmpty", "There are no search results available");
        }
        //content digital new right
        NewEntity newEntity = nd.getLastNews();

        //short description
        shortContent = newEntity.getContent().substring(0, 244) + "...";
        request.setAttribute("shortContent", shortContent);
        request.getRequestDispatcher("searchPage.jsp").forward(request, response);